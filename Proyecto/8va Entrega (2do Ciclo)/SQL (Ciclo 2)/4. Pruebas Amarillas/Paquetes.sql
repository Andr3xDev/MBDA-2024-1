---------- CODE START ----------

-- CICLO 2: CRUDOK

-- Mantener un repartidor
EXECUTE PK_ENVIOS.ADICIONAR_REPARTIDOR('Juanes papas', 3211952764);
EXECUTE PK_ENVIOS.CONSULTAR_REPARTIDOR('Juanes papas');
EXECUTE PK_ENVIOS.MODIFICAR_REPARTIDOR('Juanes papas', 3172921010, 10);
EXECUTE PK_ENVIOS.ELIMINAR_REPARTIDOR('Juanes papas');

-- Crea un envio
EXECUTE PK_ENVIOS.ADICIONAR_ENVIO('0000000001');
EXECUTE PK_ENVIOS.CONSULTAR_ENVIO('0000000001');

-- Notificaciones y seguimientos
EXECUTE PK_ENVIOS.ADICIONAR_NOTIFICACION('El paquete se esta alistando', 'En camino', 'T');
EXECUTE PK_ENVIOS.MODIFICAR_NOTIFICACION('0000000001');
EXECUTE PK_ENVIOS.CONSULTAR_SEGUIMIENTO('0000000001');
EXECUTE PK_ENVIOS.MODIFICAR_SEGUIMIENTO('0000000001');

-- Crear un punto de recogida
EXECUTE PK_PUNTOS_RECOGIDAS.INSERTAR_PUNTORECOGIDA ('Juan alberto', 'Juan no alvas', 'Valle del Cauca', '0000000001');
EXECUTE PK_PUNTOS_RECOGIDAS.ACTUALIZAR_PUNTORECOGIDA ('0000000001');
EXECUTE PK_PUNTOS_RECOGIDAS.CONSULTAR_PUNTOSRECOGIDA ('0000000001');

-- 2. Devoluci贸nes 
EXECUTE PK_DEVOLUCIONES.INSERTAR_DEVOLUCION ('Mal estado', 'T', '0000000001');
EXECUTE PK_DEVOLUCIONES.CONSULTAR_DEVOLUCIONES ('0000000001');
EXECUTE PK_DEVOLUCIONES.ACTUALIZAR_DEVOLUCION ('0000000001', 'Reembolsado');

-- 3. Crear una suscripci贸n

EXECUTE PK_SUSCRIPCIONES.ADICIONAR_SUSCRIPCION ('Jose Atonio', 20000, 'Tarjeta');
EXECUTE PK_SUSCRIPCIONES.CONSULTAR_SUSCRIPCION ('0000000001');
EXECUTE PK_SUSCRIPCIONES.ACTUALIZAR_SUSCRIPCION ('0000000001', 15000, 'Efectivo');

-- Promociones
EXECUTE PK_SUSCRIPCIONES.ADICIONAR_PROMOCION ('Promo 1', 'Promo 1 para nuevos usuarios', SYSDATE, SYSDATE + 31, 'T', '0000000001');
EXECUTE PK_SUSCRIPCIONES.CONSULTAR_PROMOCION ('0000000001');
EXECUTE PK_SUSCRIPCIONES.MODIFICAR_PROMOCION ('0000000001', 'Promo 1.2', 'Promo 1 para condiciones especiales', SYSDATE, SYSDATE + 31, 'F', '0000000001');

-- Seguros
EXECUTE PK_SUSCRIPCIONES.CONSULTAR_SEGURO ('0000000001');
EXECUTE PK_SUSCRIPCIONES.ACTUALIZAR_SEGURO ('0000000001', 'T', '0000000001');

-- Eliminar todo
EXECUTE PK_SUSCRIPCIONES.ELIMINAR_SUSCRIPCION ('0000000001');
EXECUTE PK_SUSCRIPCIONES.ELIMINAR_PROMOCION ('0000000001');


-- CICLO 2: CRUDNoOK

-- Insertar un repartidor
EXECUTE PK_ENVIOS.ADICIONAR_REPARTIDOR(123, 'juandas');

---- 1. Crea un envio


-- Crear un punto de recogida
EXECUTE PK_PUNTOS_RECOGIDAS.INSERTAR_PUNTORECOGIDA ('Juan alberto', 'Juan no alvas', 'Valle del Cauca', '0000000000');
EXECUTE PK_PUNTOS_RECOGIDAS.ACTUALIZAR_PUNTORECOGIDA ('00000000010');
EXECUTE PK_PUNTOS_RECOGIDAS.CONSULTAR_PUNTOSRECOGIDA ('0000000000');

-- 2. Devoluci贸n de un punto de recogida
EXECUTE PK_DEVOLUCIONES.INSERTAR_DEVOLUCION ('Mal estado', 'T', '0000000001');
EXECUTE PK_DEVOLUCIONES.CONSULTAR_DEVOLUCIONES ('0000000000');
EXECUTE PK_DEVOLUCIONES.ACTUALIZAR_DEVOLUCION ('0000000000', 'Reembolsado');

-- 3. Crear una suscripci贸n

EXECUTE PK_SUSCRIPCIONES.ADICIONAR_SUSCRIPCION ('Jose NO existe', 20000, 'Tarjeta');
EXECUTE PK_SUSCRIPCIONES.CONSULTAR_SUSCRIPCION ('0000000000');
EXECUTE PK_SUSCRIPCIONES.ACTUALIZAR_SUSCRIPCION ('0000000000', 'Arroz', 'Efectivo');

-- Promociones
EXECUTE PK_SUSCRIPCIONES.ADICIONAR_PROMOCION (1233, 'Promo 1 para nuevos usuarios', '12-12-2000', SYSDATE + 31, 'F', '0000000000');
EXECUTE PK_SUSCRIPCIONES.CONSULTAR_PROMOCION ('0000000000');
EXECUTE PK_SUSCRIPCIONES.MODIFICAR_PROMOCION ('0000000001', 'Promo 1.2', 'Promo 1 para condiciones especiales', SYSDATE, SYSDATE + 31, 'F', '0000000001');

-- Seguros
EXECUTE PK_SUSCRIPCIONES.CONSULTAR_SEGURO ('0000000000');
EXECUTE PK_SUSCRIPCIONES.ACTUALIZAR_SEGURO ('0000000000', 'Activo', '0000000001');

-- Eliminar todo
EXECUTE PK_SUSCRIPCIONES.ELIMINAR_SUSCRIPCION ('0000000000');
EXECUTE PK_SUSCRIPCIONES.ELIMINAR_PROMOCION ('0000000000');

COMMIT;
---------- CODE END ----------